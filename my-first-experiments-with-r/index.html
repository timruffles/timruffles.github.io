<!doctype html>
      <head>
        <title>My first experiments with R</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="I started to use R for a maths course at the Open University, and thought I&apos;d jot down my initial progress. R is pretty ugly to come to as a programming language: as far as I can tell, there is absolutely no naming convention at all. Luckily there&apos;s a REPLâ€¦" >
        <link rel="stylesheet" href="/css/normalize.css" type="text/css">
        <link rel="stylesheet" href="/css/style.css" type="text/css">
        <link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css">
        <link rel="alternate" type="application/rss+xml" title="Subscribe to RSS feed" href="/rss.xml" />
      </head>
      <body class="article">
        <div class="mast">
          <div class='top-bar reading'>
              <div class="links logical">
                <div class="navigation logical">
                  <a href="/">Home</a>
                  <a href="/rss.xml">RSS</a>
                  <a href="/me">
                      Tim Ruffles
                  </a>
                </div>
              </div>
            </div>
        </div>
        <div class="content" class="reading">
           

           <div class="body">
              <h1><a href="/my-first-experiments-with-r">My first experiments with R</a></h1>
  <p>I started to use R for a maths course at the Open University, and thought I&#39;d jot down my initial progress. R is pretty ugly to come to as a programming language: as far as I can tell, there is absolutely no naming convention at all. Luckily there&#39;s a REPL and lots of people who&#39;ll have tripped across similarly confusing things on Stack Overflow.</p>
<p>I decided to use R instead of OUStats, the OU&#39;s proprietary stats program (Windows only). R certainly had a longer lead time for me to get useful things out of the data, but at least it&#39;s used outside of my course.</p>
<p>The first data set I played around with was the eruptions of the <a href="http://www.geyserstudy.org/geysers/OLDFAITHFUL/eruptions/Old%20Faithful%20eruptions%20for%202011.TXT" >Old Faithful geyser in 2011</a>. I wrote a 3 line Ruby script to mung the data into seconds rather than hour:minutes:seconds, rather than look up whatever naming crimes R requires.</p>
<pre><code>anHour <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span>
STDIN<span class="token punctuation">.</span>read<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">8.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>each <span class="token keyword">do</span> <span class="token operator">|</span>line<span class="token operator">|</span>
  hour<span class="token punctuation">,</span> min<span class="token punctuation">,</span> sec <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">(</span>\d<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">(</span>\d\d<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">(</span>\d\d<span class="token punctuation">)</span>\D<span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">.</span>to_a<span class="token punctuation">[</span><span class="token number">1.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">:</span>to_i<span class="token punctuation">)</span>
  puts <span class="token punctuation">(</span>hour <span class="token operator">*</span> anHour<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>min <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">+</span> sec
end

# Console

<span class="token operator">></span> cat geyser<span class="token punctuation">.</span>txt <span class="token operator">|</span> ruby mung<span class="token punctuation">.</span>rb <span class="token operator">></span> interval_seconds<span class="token punctuation">.</span>txt</code></pre>
<p>From there I used scan to get the data into R, and the summary, sd and mean (rhyme or reason for abbreviating? None) functions got me what I needed, and hist() gave me a creditable histogram.</p>
<pre><code># R console

<span class="token operator">></span> raw <span class="token operator">=</span> <span class="token function">scan</span><span class="token punctuation">(</span><span class="token string">"geyser.txt"</span><span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token function">summary</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>
   Min<span class="token punctuation">.</span> <span class="token number">1</span>st Qu<span class="token punctuation">.</span>  Median    Mean <span class="token number">3</span>rd Qu<span class="token punctuation">.</span>    Max<span class="token punctuation">.</span> 
   <span class="token number">3168</span>    <span class="token number">5346</span>    <span class="token number">5676</span>    <span class="token number">5597</span>    <span class="token number">5940</span>    <span class="token number">7260</span>
<span class="token operator">></span> <span class="token function">sd</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">565.0956</span>
<span class="token operator">></span> <span class="token function">mean</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5597.049</span>
<span class="token operator">></span> <span class="token function">hist</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span></code></pre>
<p><img src="/img/geyser_raw.png" alt="Geyser Histogram" /></p>
<p>Next I wanted to add a normal curve to the data, to see it fit. It&#39;s delightfully simple to do that, as was converting my data into probability density format so that it can be compared to the curve.</p>
<pre><code><span class="token operator">></span> <span class="token function">hist</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span>
    breaks<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span>                              # more useful than the default chunky 'gram
    freq<span class="token operator">=</span>F<span class="token punctuation">,</span>                                 # probability density please
    col<span class="token operator">=</span><span class="token string">"#F0F7DF"</span><span class="token punctuation">,</span>
    main<span class="token operator">=</span><span class="token string">"Old Faithful Eruptions in 2011"</span><span class="token punctuation">,</span>
    xlab<span class="token operator">=</span><span class="token string">"Interval seconds"</span><span class="token punctuation">,</span>
    ylab<span class="token operator">=</span><span class="token string">"Density"</span><span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token function">curve</span><span class="token punctuation">(</span><span class="token function">dnorm</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token function">mean</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sd</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>
    add<span class="token operator">=</span>TRUE<span class="token punctuation">)</span></code></pre>
<p><img src="/img/geyser.png" alt="Geyser with normal" /></p>
<p>I then set about sampling the normal distribution to see how well it mapped onto the data. I wrote a function that gave me a new sample of the distribution with the same standard-deviation and mean as our geyser data, and visualised it a few times.</p>
<pre><code><span class="token operator">></span> sample <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token function">rnorm</span><span class="token punctuation">(</span><span class="token function">length</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">mean</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sd</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">></span> copy <span class="token operator">=</span> <span class="token function">sample</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">hist</span><span class="token punctuation">(</span>copy<span class="token punctuation">,</span>breaks<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span>freq<span class="token operator">=</span>F<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">curve</span><span class="token punctuation">(</span><span class="token function">dnorm</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token function">mean</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sd</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>add<span class="token operator">=</span>TRUE<span class="token punctuation">)</span></code></pre>
<p><img src="/img/norm1.png" alt="Normal, 1" />
<img src="/img/norm2.png" alt="Normal, 2" />
<img src="/img/norm3.png" alt="Normal, 3" />
<img src="/img/norm4.png" alt="Normal, 4" />  </p>
<p>Looks like our geyser is fairly well modelled by the normal curve, but with a higher peak around the mean, a lower than normal observations near close to the mean on the left, and more than normal further from the mean. When I used 100 breaks I got a weird pattern of peaks and troughs that made me recheck my munger (which seems fine), but it looks fine with 25.</p>
<p>The second data set was of pairs of father and son&#39;s heights. The data was collected as a frequency table, and this absolutely flummoxed my nascent R usage. Being a statistics ignoramus too, after a couple of hours search for how to carry out basic mean/sd/summary on a table of frequency data I came up with nothing. All the operations seemed to be designed to work on tables where each observation had a single row - so rather than this:</p>
<table>
  <tbody><tr>
    <td>Father's Height</td><td>Son's Height</td><td>Frequency</td>
  </tr>
  <tr>
    <td>65</td><td>67</td><td>3</td>
  </tr>
  <tr>
    <td>66</td><td>67</td><td>1</td>
  </tr>
</tbody></table>

<p>I needed this:</p>
<table>
  <tbody><tr>
    <td>Father's Height</td><td>Son's Height</td>
  </tr>
  <tr>
    <td>65</td><td>67</td>
  </tr>
  <tr>
    <td>65</td><td>67</td>
  </tr>
  <tr>
    <td>65</td><td>67</td>
  </tr>
  <tr>
    <td>66</td><td>67</td>
  </tr>
</tbody></table>

<p>I knew from the start I could just convert the data, but I felt R was a DSL for statistics, surely designed /precisely/ to replace imperatively coding statistical functions for common types of data. Well either I didn&#39;t look hard enough, or I was wrong. I found <a href="http://www.r-tutor.com/elementary-statistics/quantitative-data/relative-frequency-distribution-quantitative-data" >helpful pages</a> but my newness to both statistics and R probably means the answer is there in plain sight. Lots to learn.</p>
<p>Anyway eventually I went for the conversion approach, via <a href="http://stackoverflow.com/questions/2190154/getting-raw-data-from-frequency-table" >StackOverflow</a>. The functional aspects of R come out nicely in this kind of conversion, just as the DSL shines in letting you do matrix-y math style operations over vectors.</p>
<pre><code><span class="token operator">></span> pearsonRaw <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>
    fathers<span class="token operator">=</span><span class="token function">rep</span><span class="token punctuation">(</span>pearson$FatherHt<span class="token punctuation">.</span>Frequency<span class="token punctuation">,</span>pearson$Frequency<span class="token punctuation">)</span><span class="token punctuation">,</span> # repeat each height<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> frequency<span class="token punctuation">[</span>i<span class="token punctuation">]</span> times
    sons<span class="token operator">=</span><span class="token function">rep</span><span class="token punctuation">(</span>pearson$SonHt<span class="token punctuation">.</span>Frequency<span class="token punctuation">,</span>pearson$Frequency<span class="token punctuation">)</span>
  <span class="token punctuation">)</span></code></pre>
<p>So once I&#39;d got the data in a format R was happy with I could then hit it with all sorts of fun things from R&#39;s toolbox.</p>
<pre><code><span class="token operator">></span> <span class="token function">table</span><span class="token punctuation">(</span>pearsonRaw<span class="token punctuation">)</span>
       sons
fathers <span class="token number">60</span> <span class="token number">61</span> <span class="token number">62</span> <span class="token number">63</span> <span class="token number">64</span> <span class="token number">65</span> <span class="token number">66</span> <span class="token number">67</span> <span class="token number">68</span> <span class="token number">69</span> <span class="token number">70</span> <span class="token number">71</span> <span class="token number">72</span> <span class="token number">73</span> <span class="token number">74</span> <span class="token number">75</span> <span class="token number">76</span> <span class="token number">77</span> <span class="token number">78</span> <span class="token number">79</span>
     <span class="token number">59</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">60</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">61</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">62</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">2</span>  <span class="token number">2</span>  <span class="token number">4</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">63</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">4</span>  <span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">4</span>  <span class="token number">7</span>  <span class="token number">5</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">64</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">4</span> <span class="token number">10</span>  <span class="token number">9</span> <span class="token number">13</span> <span class="token number">10</span>  <span class="token number">5</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">65</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">3</span>  <span class="token number">7</span> <span class="token number">13</span> <span class="token number">10</span> <span class="token number">20</span> <span class="token number">10</span> <span class="token number">14</span>  <span class="token number">5</span>  <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">66</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">5</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">17</span> <span class="token number">26</span> <span class="token number">25</span> <span class="token number">18</span> <span class="token number">18</span> <span class="token number">10</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">67</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">8</span> <span class="token number">18</span> <span class="token number">25</span> <span class="token number">31</span> <span class="token number">16</span> <span class="token number">12</span> <span class="token number">11</span>  <span class="token number">7</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">68</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">6</span> <span class="token number">15</span> <span class="token number">20</span> <span class="token number">23</span> <span class="token number">25</span> <span class="token number">19</span> <span class="token number">19</span>  <span class="token number">7</span>  <span class="token number">7</span>  <span class="token number">5</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">69</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">3</span>  <span class="token number">5</span> <span class="token number">13</span> <span class="token number">30</span> <span class="token number">29</span> <span class="token number">22</span> <span class="token number">15</span> <span class="token number">11</span>  <span class="token number">7</span>  <span class="token number">3</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>
     <span class="token number">70</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">3</span>  <span class="token number">1</span> <span class="token number">14</span> <span class="token number">13</span> <span class="token number">21</span> <span class="token number">20</span> <span class="token number">20</span> <span class="token number">11</span>  <span class="token number">6</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>
     <span class="token number">71</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">3</span>  <span class="token number">3</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">15</span> <span class="token number">10</span> <span class="token number">11</span>  <span class="token number">8</span>  <span class="token number">6</span>  <span class="token number">2</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">72</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">9</span>  <span class="token number">4</span>  <span class="token number">6</span>  <span class="token number">9</span>  <span class="token number">9</span>  <span class="token number">6</span>  <span class="token number">3</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">73</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">2</span>  <span class="token number">4</span>  <span class="token number">3</span>  <span class="token number">2</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>
     <span class="token number">74</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">2</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>
     <span class="token number">75</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">0</span></code></pre>
<p>Pretty cool result even in ASCII.</p>
<pre><code><span class="token operator">></span> <span class="token function">library</span><span class="token punctuation">(</span>Hmisc<span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token function">describe</span><span class="token punctuation">(</span>fathers<span class="token punctuation">)</span> 
     fathers 
           n missing  unique    Mean     <span class="token number">.05</span>     <span class="token number">.10</span>     <span class="token number">.25</span>     <span class="token number">.50</span>     <span class="token number">.75</span>     <span class="token number">.90</span>     <span class="token number">.95</span> 
        <span class="token number">1078</span>       <span class="token number">0</span>      <span class="token number">17</span>   <span class="token number">67.74</span>      <span class="token number">63</span>      <span class="token number">64</span>      <span class="token number">66</span>      <span class="token number">68</span>      <span class="token number">70</span>      <span class="token number">71</span>      <span class="token number">72</span> 

               <span class="token number">59</span> <span class="token number">60</span> <span class="token number">61</span> <span class="token number">62</span> <span class="token number">63</span> <span class="token number">64</span> <span class="token number">65</span>  <span class="token number">66</span>  <span class="token number">67</span>  <span class="token number">68</span>  <span class="token number">69</span>  <span class="token number">70</span> <span class="token number">71</span> <span class="token number">72</span> <span class="token number">73</span> <span class="token number">74</span> <span class="token number">75</span>
     Frequency  <span class="token number">3</span>  <span class="token number">3</span>  <span class="token number">8</span> <span class="token number">16</span> <span class="token number">33</span> <span class="token number">60</span> <span class="token number">93</span> <span class="token number">144</span> <span class="token number">137</span> <span class="token number">153</span> <span class="token number">143</span> <span class="token number">115</span> <span class="token number">80</span> <span class="token number">50</span> <span class="token number">29</span>  <span class="token number">5</span>  <span class="token number">6</span>
     <span class="token operator">%</span>          <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">9</span>  <span class="token number">13</span>  <span class="token number">13</span>  <span class="token number">14</span>  <span class="token number">13</span>  <span class="token number">11</span>  <span class="token number">7</span>  <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">0</span>  <span class="token number">1</span></code></pre>
<p>I then decided to plot this data with the much-vaunted ggplot2. Looking at the scatter plot, it looked fairly friendly for basic stuff. And it was! I plotted the two data-sets as before, but could now change the colour, size or shape of the points depending on their frequency. Yay! I realised as I was done I could do the plotting with the imported frequency table. Still wouldn&#39;t have been able to do simple things like calculating means and sd&#39;s though.</p>
<pre><code><span class="token operator">></span> pretty <span class="token operator">=</span> <span class="token function">ggplot</span><span class="token punctuation">(</span>pearsonFrame<span class="token punctuation">,</span><span class="token function">aes</span><span class="token punctuation">(</span>pearsonFrame$FatherHt<span class="token punctuation">.</span>Frequency<span class="token punctuation">,</span>pearsonFrame$SonHt<span class="token punctuation">.</span>Frequency<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">></span> pretty <span class="token operator">+</span> <span class="token function">geom_point</span><span class="token punctuation">(</span><span class="token function">aes</span><span class="token punctuation">(</span>size<span class="token operator">=</span>pearsonFrame$Frequency<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">></span> pretty <span class="token operator">+</span> <span class="token function">geom_point</span><span class="token punctuation">(</span><span class="token function">aes</span><span class="token punctuation">(</span>size<span class="token operator">=</span>pearsonFrame$Frequency<span class="token punctuation">,</span>colour<span class="token operator">=</span>pearsonFrame$Frequency<span class="token punctuation">)</span><span class="token punctuation">)</span>  # my favourite
<span class="token operator">></span> pretty <span class="token operator">+</span> <span class="token function">geom_point</span><span class="token punctuation">(</span><span class="token function">aes</span><span class="token punctuation">(</span>size<span class="token operator">=</span>pearsonFrame$Frequency<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p><img src="/img/scatter.png" alt="Scatter" /></p>
<p>So my first half-day with R was pretty fun. I think the most confusing aspect is where to stop using R as a DSL by looking for the correct function that &quot;just works&quot; for your task, and to start creating your own solutions by using R as a programming language. The simplicity of retrieving basic statistical functions from, and visualising, correctly formatted data makes me want to explore a lot more.</p>

  <div class="article-footer">
  <p class=nav>
    Next: <a href="/rubys-equality-operator">
      Ruby's === equality operator
    </a>
    </p>
  
        
    </div>
            </div>
        </div>
        <div class="footer reading">
          <div class="container">
            <p>ðŸ“© helloï¼ timr Â· co</p>
          </div>
        </div>
      </body><!-- built from ac0128aa34206e55a406a8e2bca4fb93f1957cc6 -->